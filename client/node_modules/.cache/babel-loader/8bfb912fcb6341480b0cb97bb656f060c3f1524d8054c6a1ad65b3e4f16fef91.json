{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jedyv\\\\OneDrive\\\\Desktop\\\\dms-system\\\\client\\\\src\\\\pages\\\\Cliente\\\\Forum.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../../services/api';\nimport { FaUserCircle, FaChevronDown, FaChevronUp } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getProfileImage = email => {\n  if (!email) return null;\n  const img = localStorage.getItem(`profileImage_${email}`);\n  return img || null;\n};\nconst isToday = dateStr => {\n  const d = new Date(dateStr);\n  const now = new Date();\n  return d.getFullYear() === now.getFullYear() && d.getMonth() === now.getMonth() && d.getDate() === now.getDate();\n};\nconst Forum = () => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [newMessage, setNewMessage] = useState('');\n  const [newImage, setNewImage] = useState(null);\n  const [selectedPostId, setSelectedPostId] = useState(null);\n  const [replies, setReplies] = useState({});\n  const [replyMessage, setReplyMessage] = useState('');\n  const [replyImage, setReplyImage] = useState(null);\n  const [replyLoading, setReplyLoading] = useState(false);\n  const [showAll, setShowAll] = useState(false);\n  const user = JSON.parse(localStorage.getItem('user'));\n  const profileImage = user ? getProfileImage(user.email) : null;\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n  const fetchPosts = async () => {\n    setLoading(true);\n    try {\n      const res = await api.get('/api/forum/posts');\n      setPosts(res.data.posts);\n      setError('');\n    } catch (err) {\n      setError('Erro ao carregar posts');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleNewPost = async e => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n    let imagem_url = null;\n    if (newImage) {\n      const reader = new FileReader();\n      reader.onload = async ev => {\n        imagem_url = ev.target.result;\n        await sendPost(imagem_url);\n      };\n      reader.readAsDataURL(newImage);\n    } else {\n      await sendPost(null);\n    }\n  };\n  const sendPost = async imagem_url => {\n    try {\n      await api.post('/api/forum/posts', {\n        mensagem: newMessage,\n        imagem_url\n      });\n      setNewMessage('');\n      setNewImage(null);\n      fetchPosts();\n    } catch (err) {\n      setError('Erro ao criar post');\n    }\n  };\n  const handleToggleReplies = async post => {\n    if (selectedPostId === post.id) {\n      setSelectedPostId(null);\n      return;\n    }\n    setSelectedPostId(post.id);\n    setReplyMessage('');\n    setReplyImage(null);\n    setReplyLoading(true);\n    try {\n      const res = await api.get(`/api/forum/posts/${post.id}/respostas`);\n      setReplies(prev => ({\n        ...prev,\n        [post.id]: res.data.respostas\n      }));\n    } catch {\n      setReplies(prev => ({\n        ...prev,\n        [post.id]: []\n      }));\n    } finally {\n      setReplyLoading(false);\n    }\n  };\n  const handleReply = async (e, postId) => {\n    e.preventDefault();\n    if (!replyMessage.trim()) return;\n    let imagem_url = null;\n    if (replyImage) {\n      const reader = new FileReader();\n      reader.onload = async ev => {\n        imagem_url = ev.target.result;\n        await sendReply(imagem_url, postId);\n      };\n      reader.readAsDataURL(replyImage);\n    } else {\n      await sendReply(null, postId);\n    }\n  };\n  const sendReply = async (imagem_url, postId) => {\n    try {\n      await api.post(`/api/forum/posts/${postId}/respostas`, {\n        resposta: replyMessage,\n        imagem_url\n      });\n      setReplyMessage('');\n      setReplyImage(null);\n      handleToggleReplies(posts.find(p => p.id === postId));\n    } catch (err) {\n      setError('Erro ao responder');\n    }\n  };\n\n  // Filter posts: show only today's unless showAll is true\n  const todayPosts = posts.filter(p => isToday(p.data_postagem));\n  const postsToShow = showAll ? posts : todayPosts;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"forum-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"F\\xF3rum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"forum-new-post\",\n      onSubmit: handleNewPost,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forum-form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forum-avatar\",\n          children: profileImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: profileImage,\n            alt: \"avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(FaUserCircle, {\n            size: 36,\n            color: \"#bdbdbd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"forum-textarea\",\n          placeholder: \"Escreva sua d\\xFAvida ou mensagem...\",\n          value: newMessage,\n          onChange: e => setNewMessage(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forum-form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"forum-file-label\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: e => setNewImage(e.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), \"Escolher imagem\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Enviar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), !showAll && posts.length > todayPosts.length && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"forum-load-previous\",\n      onClick: () => setShowAll(true),\n      children: \"Carregar conversas anteriores\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Carregando posts...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forum-posts-list\",\n      children: postsToShow.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Nenhuma mensagem no f\\xF3rum ainda.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 39\n      }, this) : postsToShow.map(post => {\n        var _replies$post$id;\n        const postProfileImg = user && post.usuario_email === user.email ? profileImage : null;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forum-post-list-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"forum-post-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"forum-avatar\",\n              children: postProfileImg ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: postProfileImg,\n                alt: \"avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(FaUserCircle, {\n                size: 32,\n                color: \"#bdbdbd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: post.usuario_nome\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"forum-post-date\",\n                children: new Date(post.data_postagem).toLocaleString('pt-BR')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"forum-post-message\",\n            children: post.mensagem\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }, this), post.imagem_url && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: post.imagem_url,\n            alt: \"imagem\",\n            className: \"forum-post-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"forum-post-actions\",\n            children: post.resposta_count > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"forum-ver-respostas\",\n              onClick: () => handleToggleReplies(post),\n              children: [\"Ver respostas (\", post.resposta_count, \") \", selectedPostId === post.id ? /*#__PURE__*/_jsxDEV(FaChevronUp, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 91\n              }, this) : /*#__PURE__*/_jsxDEV(FaChevronDown, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 109\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this), selectedPostId === post.id && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"forum-replies-thread\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"forum-replies\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Respostas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 23\n              }, this), replyLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Carregando respostas...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 39\n              }, this) : ((_replies$post$id = replies[post.id]) === null || _replies$post$id === void 0 ? void 0 : _replies$post$id.length) === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Nenhuma resposta ainda.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 110\n              }, this) : replies[post.id].map(r => {\n                const replyProfileImg = user && r.usuario_email === user.email ? profileImage : null;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"forum-reply\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"forum-avatar\",\n                    children: replyProfileImg ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: replyProfileImg,\n                      alt: \"avatar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 33\n                    }, this) : /*#__PURE__*/_jsxDEV(FaUserCircle, {\n                      size: 28,\n                      color: \"#bdbdbd\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: r.usuario_nome\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 206,\n                        columnNumber: 36\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"forum-post-date\",\n                        children: new Date(r.data_resposta).toLocaleString('pt-BR')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 206,\n                        columnNumber: 70\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: r.resposta\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 31\n                    }, this), r.imagem_url && /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: r.imagem_url,\n                      alt: \"imagem\",\n                      className: \"forum-reply-img\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 48\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 29\n                  }, this)]\n                }, r.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 27\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"forum-reply-form\",\n              onSubmit: e => handleReply(e, post.id),\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"forum-textarea\",\n                placeholder: \"Responder...\",\n                value: replyMessage,\n                onChange: e => setReplyMessage(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"forum-form-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"forum-file-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    accept: \"image/*\",\n                    onChange: e => setReplyImage(e.target.files[0])\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 27\n                  }, this), \"Escolher imagem\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  children: \"Responder\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 19\n          }, this)]\n        }, post.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n};\n_s(Forum, \"zHrdG7QQygGlWMAcKHYLSrVY0kU=\");\n_c = Forum;\nexport default Forum;\nvar _c;\n$RefreshReg$(_c, \"Forum\");","map":{"version":3,"names":["React","useState","useEffect","api","FaUserCircle","FaChevronDown","FaChevronUp","jsxDEV","_jsxDEV","getProfileImage","email","img","localStorage","getItem","isToday","dateStr","d","Date","now","getFullYear","getMonth","getDate","Forum","_s","posts","setPosts","loading","setLoading","error","setError","newMessage","setNewMessage","newImage","setNewImage","selectedPostId","setSelectedPostId","replies","setReplies","replyMessage","setReplyMessage","replyImage","setReplyImage","replyLoading","setReplyLoading","showAll","setShowAll","user","JSON","parse","profileImage","fetchPosts","res","get","data","err","handleNewPost","e","preventDefault","trim","imagem_url","reader","FileReader","onload","ev","target","result","sendPost","readAsDataURL","post","mensagem","handleToggleReplies","id","prev","respostas","handleReply","postId","sendReply","resposta","find","p","todayPosts","filter","data_postagem","postsToShow","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","src","alt","size","color","placeholder","value","onChange","required","type","accept","files","length","onClick","map","_replies$post$id","postProfileImg","usuario_email","usuario_nome","toLocaleString","resposta_count","r","replyProfileImg","data_resposta","_c","$RefreshReg$"],"sources":["C:/Users/jedyv/OneDrive/Desktop/dms-system/client/src/pages/Cliente/Forum.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../../services/api';\r\nimport { FaUserCircle, FaChevronDown, FaChevronUp } from 'react-icons/fa';\r\n\r\nconst getProfileImage = (email) => {\r\n  if (!email) return null;\r\n  const img = localStorage.getItem(`profileImage_${email}`);\r\n  return img || null;\r\n};\r\n\r\nconst isToday = (dateStr) => {\r\n  const d = new Date(dateStr);\r\n  const now = new Date();\r\n  return d.getFullYear() === now.getFullYear() && d.getMonth() === now.getMonth() && d.getDate() === now.getDate();\r\n};\r\n\r\nconst Forum = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [newImage, setNewImage] = useState(null);\r\n  const [selectedPostId, setSelectedPostId] = useState(null);\r\n  const [replies, setReplies] = useState({});\r\n  const [replyMessage, setReplyMessage] = useState('');\r\n  const [replyImage, setReplyImage] = useState(null);\r\n  const [replyLoading, setReplyLoading] = useState(false);\r\n  const [showAll, setShowAll] = useState(false);\r\n  const user = JSON.parse(localStorage.getItem('user'));\r\n  const profileImage = user ? getProfileImage(user.email) : null;\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  const fetchPosts = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await api.get('/api/forum/posts');\r\n      setPosts(res.data.posts);\r\n      setError('');\r\n    } catch (err) {\r\n      setError('Erro ao carregar posts');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleNewPost = async (e) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim()) return;\r\n    let imagem_url = null;\r\n    if (newImage) {\r\n      const reader = new FileReader();\r\n      reader.onload = async (ev) => {\r\n        imagem_url = ev.target.result;\r\n        await sendPost(imagem_url);\r\n      };\r\n      reader.readAsDataURL(newImage);\r\n    } else {\r\n      await sendPost(null);\r\n    }\r\n  };\r\n\r\n  const sendPost = async (imagem_url) => {\r\n    try {\r\n      await api.post('/api/forum/posts', { mensagem: newMessage, imagem_url });\r\n      setNewMessage('');\r\n      setNewImage(null);\r\n      fetchPosts();\r\n    } catch (err) {\r\n      setError('Erro ao criar post');\r\n    }\r\n  };\r\n\r\n  const handleToggleReplies = async (post) => {\r\n    if (selectedPostId === post.id) {\r\n      setSelectedPostId(null);\r\n      return;\r\n    }\r\n    setSelectedPostId(post.id);\r\n    setReplyMessage('');\r\n    setReplyImage(null);\r\n    setReplyLoading(true);\r\n    try {\r\n      const res = await api.get(`/api/forum/posts/${post.id}/respostas`);\r\n      setReplies((prev) => ({ ...prev, [post.id]: res.data.respostas }));\r\n    } catch {\r\n      setReplies((prev) => ({ ...prev, [post.id]: [] }));\r\n    } finally {\r\n      setReplyLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReply = async (e, postId) => {\r\n    e.preventDefault();\r\n    if (!replyMessage.trim()) return;\r\n    let imagem_url = null;\r\n    if (replyImage) {\r\n      const reader = new FileReader();\r\n      reader.onload = async (ev) => {\r\n        imagem_url = ev.target.result;\r\n        await sendReply(imagem_url, postId);\r\n      };\r\n      reader.readAsDataURL(replyImage);\r\n    } else {\r\n      await sendReply(null, postId);\r\n    }\r\n  };\r\n\r\n  const sendReply = async (imagem_url, postId) => {\r\n    try {\r\n      await api.post(`/api/forum/posts/${postId}/respostas`, { resposta: replyMessage, imagem_url });\r\n      setReplyMessage('');\r\n      setReplyImage(null);\r\n      handleToggleReplies(posts.find(p => p.id === postId));\r\n    } catch (err) {\r\n      setError('Erro ao responder');\r\n    }\r\n  };\r\n\r\n  // Filter posts: show only today's unless showAll is true\r\n  const todayPosts = posts.filter(p => isToday(p.data_postagem));\r\n  const postsToShow = showAll ? posts : todayPosts;\r\n\r\n  return (\r\n    <div className=\"forum-section\">\r\n      <h2>Fórum</h2>\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n      <form className=\"forum-new-post\" onSubmit={handleNewPost}>\r\n        <div className=\"forum-form-row\">\r\n          <div className=\"forum-avatar\">\r\n            {profileImage ? (\r\n              <img src={profileImage} alt=\"avatar\" />\r\n            ) : (\r\n              <FaUserCircle size={36} color=\"#bdbdbd\" />\r\n            )}\r\n          </div>\r\n          <textarea\r\n            className=\"forum-textarea\"\r\n            placeholder=\"Escreva sua dúvida ou mensagem...\"\r\n            value={newMessage}\r\n            onChange={e => setNewMessage(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"forum-form-actions\">\r\n          <label className=\"forum-file-label\">\r\n            <input type=\"file\" accept=\"image/*\" onChange={e => setNewImage(e.target.files[0])} />\r\n            Escolher imagem\r\n          </label>\r\n          <button type=\"submit\">Enviar</button>\r\n        </div>\r\n      </form>\r\n      {!showAll && posts.length > todayPosts.length && (\r\n        <button className=\"forum-load-previous\" onClick={() => setShowAll(true)}>\r\n          Carregar conversas anteriores\r\n        </button>\r\n      )}\r\n      {loading ? (\r\n        <div>Carregando posts...</div>\r\n      ) : (\r\n        <div className=\"forum-posts-list\">\r\n          {postsToShow.length === 0 ? <div>Nenhuma mensagem no fórum ainda.</div> : postsToShow.map(post => {\r\n            const postProfileImg = user && post.usuario_email === user.email ? profileImage : null;\r\n            return (\r\n              <div key={post.id} className=\"forum-post-list-item\">\r\n                <div className=\"forum-post-header\">\r\n                  <div className=\"forum-avatar\">\r\n                    {postProfileImg ? (\r\n                      <img src={postProfileImg} alt=\"avatar\" />\r\n                    ) : (\r\n                      <FaUserCircle size={32} color=\"#bdbdbd\" />\r\n                    )}\r\n                  </div>\r\n                  <div>\r\n                    <strong>{post.usuario_nome}</strong>\r\n                    <span className=\"forum-post-date\">{new Date(post.data_postagem).toLocaleString('pt-BR')}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"forum-post-message\">{post.mensagem}</div>\r\n                {post.imagem_url && <img src={post.imagem_url} alt=\"imagem\" className=\"forum-post-img\" />}\r\n                <div className=\"forum-post-actions\">\r\n                  {post.resposta_count > 0 && (\r\n                    <button className=\"forum-ver-respostas\" onClick={() => handleToggleReplies(post)}>\r\n                      Ver respostas ({post.resposta_count}) {selectedPostId === post.id ? <FaChevronUp /> : <FaChevronDown />}\r\n                    </button>\r\n                  )}\r\n                </div>\r\n                {selectedPostId === post.id && (\r\n                  <div className=\"forum-replies-thread\">\r\n                    <div className=\"forum-replies\">\r\n                      <h4>Respostas</h4>\r\n                      {replyLoading ? <div>Carregando respostas...</div> : (replies[post.id]?.length === 0 ? <div>Nenhuma resposta ainda.</div> : replies[post.id].map(r => {\r\n                        const replyProfileImg = user && r.usuario_email === user.email ? profileImage : null;\r\n                        return (\r\n                          <div key={r.id} className=\"forum-reply\">\r\n                            <div className=\"forum-avatar\">\r\n                              {replyProfileImg ? (\r\n                                <img src={replyProfileImg} alt=\"avatar\" />\r\n                              ) : (\r\n                                <FaUserCircle size={28} color=\"#bdbdbd\" />\r\n                              )}\r\n                            </div>\r\n                            <div>\r\n                              <div><strong>{r.usuario_nome}</strong> <span className=\"forum-post-date\">{new Date(r.data_resposta).toLocaleString('pt-BR')}</span></div>\r\n                              <div>{r.resposta}</div>\r\n                              {r.imagem_url && <img src={r.imagem_url} alt=\"imagem\" className=\"forum-reply-img\" />}\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      }))}\r\n                    </div>\r\n                    <form className=\"forum-reply-form\" onSubmit={e => handleReply(e, post.id)}>\r\n                      <textarea\r\n                        className=\"forum-textarea\"\r\n                        placeholder=\"Responder...\"\r\n                        value={replyMessage}\r\n                        onChange={e => setReplyMessage(e.target.value)}\r\n                        required\r\n                      />\r\n                      <div className=\"forum-form-actions\">\r\n                        <label className=\"forum-file-label\">\r\n                          <input type=\"file\" accept=\"image/*\" onChange={e => setReplyImage(e.target.files[0])} />\r\n                          Escolher imagem\r\n                        </label>\r\n                        <button type=\"submit\">Responder</button>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Forum; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}